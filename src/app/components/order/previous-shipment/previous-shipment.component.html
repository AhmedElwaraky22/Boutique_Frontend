<div class="content-wrapper container-xxl p-0">
    <div class="content-body ">
      <!-- User List -->
      <section class="users-list-wrapper"> 
        <div class="card tableeeeeee p-3">
            <div class="row">
                <div class="col-md-6 col-12 ">
                <div class="d-flex justify-content-between align-items-center m-1 ">
                    <label class="d-flex align-items-center"> Show
                    <select class="form-control mx-25" [(ngModel)]="selectedOption">
                        <option value="9999999999999999999999">All</option>
                        <option value="2">2</option>
                        <option value="10">10</option>
                        <option value="25">25</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                        <option value="250">250</option>
                        <option value="500">500</option>
                        <option value="500">1000</option>
                        <option value="500">2500</option>
                        <option value="500">5000</option>
                        <option value="500">10000</option>
                    </select>entries
                    </label>
                </div>
                </div>
                
                <div class="col-md-6 col-12 d-flex justify-content-start justify-content-md-end">
                <div class="d-flex align-items-center justify-content-end pr-1 pb-1 pb-md-0">
                    <label class="d-flex align-items-center ml-1 ml-md-0"> Search:
                        <input
                        [(ngModel)]="searchValue"
                        name="searchValue"
                        type="search"
                        class="form-control ml-25"
                        (keyup)="filterUpdate($event)"
                        (search)="filterUpdate($event)"/>
                    </label>
                </div>
                </div>
            </div>
  
          <ngx-datatable
            [rows]="perviousShipments"
            [rowHeight]="'auto'"
            class="bootstrap core-bootstrap"
            [limit]="selectedOption"
            [columnMode]="ColumnMode.force"
            [headerHeight]="50"
            [footerHeight]="50"
            [scrollbarH]="true">
          <!-- Id  -->
            <ngx-datatable-column name="ID" prop="shipment_id" [width]="100">
              <ng-template
                let-id="value"
                let-isDeleted="row.isDeleted"
                let-isVerified="row.verified"
                ngx-datatable-cell-template
                >
                <div
                  class="badge badge-pill badge-glow px-3">
                  {{ id }}
                </div>
              </ng-template>
            </ngx-datatable-column>
  
  
            <!-- Shipment ID -->
            <ngx-datatable-column
              name="Shipment ID"
              prop="shipment_id"
              [width]="150"
            ></ngx-datatable-column>
  
            <!-- store_name -->
            <ngx-datatable-column name="Product Name" prop="product_name" [width]="220" >
              <ng-template
                let-row="row"
                let-name="value"
                ngx-datatable-cell-template
              >
                <div class="d-flex align-items-center"  [routerLink]="'/order-details/' + row.order_id"
                >
                  <div class="mr-2">
                    <ngx-avatar
                      class="m-1"
                      src="{{ row.product_images }}"
                      name="{{ row.product_name}}"
                      value="28%"
                      size="40"
                      [round]="true"
                    >
                </ngx-avatar>
            </div>
            {{ row.product_name }}
                 
                </div>
              </ng-template>
            </ngx-datatable-column>

            <!-- product_price -->
            <ngx-datatable-column 
            name="Product Price" 
            prop="product_price" 
            [width]="220">
            <ng-template
              let-row="row"
              ngx-datatable-cell-template
            >
              <div class="d-flex justify-content-end align-items-center" [routerLink]="'/order-details/' + row.order_id">
                <div>
                  {{ row.product_price | currency:'USD': 'symbol' }}
                </div>
              </div>
            </ng-template>
          </ngx-datatable-column>
          
          <!-- Shipment Status -->
          <ngx-datatable-column 
            name="Shipment Status" 
            prop="Shipment_status" 
            [width]="200">
            <ng-template
              let-row="row"
              ngx-datatable-cell-template
            >
              <div class="text-center">
                <span [ngClass]="getStatusClass(row.Shipment_status)">
                  {{ row.Shipment_status }}
                </span>
              </div>
            </ng-template>
          </ngx-datatable-column>
          
            
            <!-- Address  -->  
            <!-- <ngx-datatable-column
              name="Address"
              prop="deliver_address"
              [width]="400"
            >
              <ng-template let-address="value" ngx-datatable-cell-template>
                <div>
                  <i
                    class="feather font-medium-3"
                    [ngClass]="{
                      'icon-edit text-warning': address == null,
                      'icon-map-pin text-danger': address !== ''
                    }"
                  ></i>
                  {{ address.apartment_number }} , {{ address.building_number }} ,
                  {{ address.street }} , {{ address.area }} , {{ address.city }} ,
                  {{ address.government }}
                </div>
              </ng-template>
            </ngx-datatable-column> -->
  
            <!-- <ngx-datatable-column name="status" prop="order_status" [width]="150">
              <ng-template let-status="value" ngx-datatable-cell-template>
                <div
                  class="badge badge-pill"
                  [ngClass]="{
                    'badge-light-primary': status == 'New',
                    'badge-light-secondary': status == 'On the way',
                    'badge-light-success': status == 'Delivered',
                    'badge-light-warning': status == 'Not Delivered',
                    'badge-light-danger': status == 'Canceled by User',
                    'badge-light-danger': status == 'Canceled by store'
                  }"
                >
                  {{ Shipment_status }}
                </div>
              </ng-template>
            </ngx-datatable-column> -->

            <!-- Address  -->
            <!-- <ngx-datatable-column
              name="Payment Method"
              prop="payment_method"
              [width]="180">
              <ng-template let-met="value.name" ngx-datatable-cell-template>
                <div
                  class="badge badge-pill"
                  [ngClass]="{
                    'badge-light-success': met == 'Cash on Delivery',
                    'badge-light-primary': met == 'Credit Card'}">
                    {{ met }}
                </div>
              </ng-template>
            </ngx-datatable-column>
  
            <ngx-datatable-column
              name="Products Count "
              prop="products_count"
              [width]="180">

              <ng-template let-met="value" ngx-datatable-cell-template>
                <div class="badge badge-pill badge-glow badge-dark p-2" >
                  {{met}}
                </div>
              </ng-template>
            </ngx-datatable-column>
  
            <ngx-datatable-column
              name="Placed At"
              prop="placed_on"
              [width]="100">

              <ng-template let-met="value" ngx-datatable-cell-template>
                <div class="badge badge-pill badge-glow badge-info p-2">
                  {{met}}
                </div>
              </ng-template>
            </ngx-datatable-column> -->
  
          


            <!-- Actions -->
            <ngx-datatable-column name="Actions" [width]="100" [sortable]="false">
              <ng-template ngx-datatable-cell-template let-row="row">
                <div ngbDropdown container="body">
                  <button
                    ngbDropdownToggle
                    type="button"
                    class="btn icon-btn btn-sm hide-arrow text-danger"
                    rippleEffect
                  >
                    <span
                      [data-feather]="'more-vertical'"
                      [class]="'cursor-pointer'"
                    ></span>
                  </button>
                  <div ngbDropdownMenu>
                    <a ngbDropdownItem
                    [routerLink]="'/order-details/' + row.shipment_id"
                    (click)="navigate(row.shipment_id)">
                      <span
                        [data-feather]="'file-text'"
                        [size]="16"
                        [class]="'mr-50 text-info'"
                      ></span>
                      Details
                    </a>
                    <a
                      ngbDropdownItem
                      (click)="modalOpenVC(modalVC,row.shipment_id)"
                      ><span
                        [data-feather]="'edit'"
                        [size]="16"
                        [class]="'mr-50 text-warning'"
                      ></span>
                      Change Status</a>
                  </div>
                </div>
              </ng-template>
            </ngx-datatable-column>

          </ngx-datatable>
        </div>
      </section>
    </div>
  </div>
   <!-- ///////////////////////////////loader//////////////////// -->
   <div *ngIf="isLoading" id="loader-wrapper">
    <div id="loader"></div>
    <span *ngIf="loaders" class="loader"></span>
   <div class="loader-section section-left"></div>
   <div class="loader-section section-right"></div>
  </div>